<!DOCTYPE html>
<html>
  <head>
    <script src="../js/pixi8.js"></script>
  </head>
  <body>
    <script type="module">
      //创建新的应用程序
      const app = new PIXI.Application();

      // 初始化应用程序
      await app.init({ 
        background: "#1099bb", 
        height:400,
        width:600,
      });

      // 将应用程序加载到应用文档中
      document.body.appendChild(app.canvas);
      // 添加需加载的资源
      PIXI.Assets.addBundle("animals", {
        flowerTop: "../assest/flowerTop.png",
        eggHead: "../assest/eggHead.png",
      });
      //等待加载
      const textures = await PIXI.Assets.loadBundle("animals", (process) => {
        console.log("加载完成", process);
      });

      // 从已加载的资源中创建精灵
      // const flower = PIXI.Sprite.from(textures.flowerTop);
      const flower = new PIXI.Sprite(textures.flowerTop);
      flower.anchor.set(0.5);
      flower.x = app.screen.width * 0.25;
      flower.y = app.screen.height / 2;
      app.stage.addChild(flower);
      // 另一个精灵
      // const egg = PIXI.Sprite.from(textures.eggHead);
      const egg = new PIXI.Sprite(textures.eggHead);
      egg.anchor.set(0.5);
      egg.x = app.screen.width * 0.75;
      egg.y = app.screen.height / 2;
      app.stage.addChild(egg);
    </script>
  </body>
</html>
